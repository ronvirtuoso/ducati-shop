define(["jquery"],function($){"use strict";let CartButtonAdd={container:'#update_cart_action_container',response:null,init:function($){this.$=$;this.incrementValue();this.decrementValue();},_getQtyFld:function(e){return $('.quantity-field',$(e).parent())},_incrementVal:function(e){var fld=CartButtonAdd._getQtyFld(e);var currentVal=parseInt(fld.val(),10);if(!isNaN(currentVal)){fld.val(currentVal+1);}else{fld.val(1);}},_decrementVal:function(e){var fld=CartButtonAdd._getQtyFld(e);var currentVal=parseInt(fld.val(),10);if(!isNaN(currentVal)&&currentVal>1){fld.val(currentVal-1);}else{fld.val(1);}},updateCart:function(self){if(self.timerName){clearTimeout(self.timerName);}
self.timerName=setTimeout(function(){$(CartButtonAdd.container).attr('data-field','quantity').attr('value','update_qty').closest('form').submit();},1000);},incrementValue:function(){$('body').on('click','input.button-plus',function(e){e.preventDefault();CartButtonAdd._incrementVal(this);CartButtonAdd.updateCart(this)});},decrementValue:function(){$('body').on('click','input.button-minus',function(e){e.preventDefault();CartButtonAdd._decrementVal(this);CartButtonAdd.updateCart(this)});}};return CartButtonAdd.init();})